<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Продукт — VIVASAM</title>
    <link href="assets/img/logo.jpg" rel="icon">

  <!-- Bootstrap and icons -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />

  <!-- Swiper CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />


  <link href="assets/css/main.css" rel="stylesheet" />
  <style>
    /* body {
      font-family: 'Roboto', sans-serif;
      background-color: #f7f7f7;
    } */

    .product-section {
      padding-top: 120px;
      padding-bottom: 60px;
    }

    .product-image {
      max-height: 500px;
      object-fit: contain;
      transition: transform 0.3s ease-in-out;
    }

    .accordion-button:focus {
      box-shadow: none;
    }

    .accordion-button {
      font-weight: 500;
    }

    .accordion-body {
      font-size: 0.95rem;
      color: #333;
    }

    .product-title {
      font-size: 2rem;
    }

    .text-muted {
      font-size: 1rem;
    }

    .navbar {
      background-color: #ffffff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }


    .scroll-fade {
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.8s ease;
    }
    .scroll-fade.visible {
      opacity: 1;
      transform: translateY(0);
    }

     .product-card {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
    overflow: hidden;
    transition: transform 0.3s ease;
  }
  .product-card:hover {
    transform: translateY(-5px);
  }
  .product-card img {
    width: 100%;
    height: 260px;
    object-fit: cover;
  }
  .product-card-body {
    padding: 20px;
  }
  .product-card-body h5 {
    color: #3a3a3a;
    margin-bottom: 8px;
  }
  .product-card-body p {
    font-size: 14px;
    color: #666;
    margin-bottom: 12px;
  }
  .product-card-body a.btn {
    border-radius: 20px;
    background-color: #7A9B55;
    color: white;
    padding: 6px 14px;
    font-size: 14px;
    text-decoration: none;
    transition: background-color 0.3s;
  }
  .product-card-body a.btn:hover {
    background-color: #6a874d;
  }
  .product-list {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
  }
  </style>
</head>
<body>
  <header id="header" class="header fixed-top">

    <!-- Top Bar (commented, unchanged) -->
    <!-- 
    <div class="topbar d-flex align-items-center dark-background">
      ...
    </div> 
    -->

    <div class="branding d-flex align-items-cente">
      <div class="container position-relative d-flex align-items-center justify-content-between">
        <a href="index.html" class="logo d-flex align-items-center">
          <img src="assets/img/logo.jpg" alt="VIVASAM">
        </a>

        <nav id="navmenu" class="navmenu d-flex flex-row align-items-center justify-content-center">
          <ul>
            <li><a href="index.html" class="nav-home fs-5 fw-semibold" data-i18n="home">Главная</a></li>
            <li><a href="#quick-contact" class="nav-contact fs-5 fw-semibold" data-i18n="contact">Контакты</a></li>
            <li><a href="#find-a-product" class="nav-products fs-5 fw-semibold" data-i18n="products">Наши продукты</a></li>
            <li><a href="#partners" class="nav-partners fs-5 fw-semibold" data-i18n="partners">Партнёры</a></li>
          </ul>
          <select id="language-select" style="border: none; background-color: inherit;" class="form-select form-select-sm w-auto ms-3 fs-5 fw-semibold">
            <option value="uz" class="fs-5 fw-semibold">O‘zbek</option>
            <!-- <option value="uz_cyrl">Ўзбек (Кирил)</option> -->
            <option selected value="ru" class="fs-5 fw-semibold">Русский</option>
            <option value="en" class="fs-5 fw-semibold">English</option>
          </select>
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>

        <!-- Social Icons (commented, untouched) -->
        <!--
        <li><a href="..." class="..." target="_blank">...</a></li>
        -->
      </div>
    </div>
  </header>

  <main class="container product-section">
    <div class="row align-items-center w-full col-lg-12">
<!-- Product Image Swiper -->
<div class="swiper mySwiper col-lg-5 h-100 p-4 g-5" >
  <div class="swiper-wrapper">
    <div class="swiper-slide"><img id="product-image0" style="border: none;" height="700px" width="550px" class="img-fluid rounded product-image" /></div>
    <div class="swiper-slide"><img id="product-image1" style="border: none;" height="700px" width="550px" class="img-fluid rounded product-image" /></div>
    <div class="swiper-slide"><img id="product-image2" style="border: none;" height="700px" width="550px" class="img-fluid rounded product-image" /></div>
  </div>
  <div class="swiper-pagination"></div>
</div>

      <div class="col-lg-7 scroll-fade">
        <h2 id="product-name" class="fw-bold text-success mb-3 product-title"></h2>
        <p id="product-main-description" class="mb-4 text-muted"></p>

        <div class="accordion" id="descriptionAccordion">
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading1">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#desc1" aria-expanded="true">
                Детали 1
              </button>
            </h2>
            <div id="desc1" class="accordion-collapse collapse show">
              <div class="accordion-body">Описание детали 1</div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading2">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#desc2">
                Детали 2
              </button>
            </h2>
            <div id="desc2" class="accordion-collapse collapse">
              <div class="accordion-body">Описание детали 2</div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading3">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#desc3">
                Детали 3
              </button>
            </h2>
            <div id="desc3" class="accordion-collapse collapse">
              <div class="accordion-body">Описание детали 3</div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading4">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#desc4">
                Детали 4
              </button>
            </h2>
            <div id="desc4" class="accordion-collapse collapse">
              <div class="accordion-body">Описание детали 4</div>
            </div>
          </div>
           <div class="accordion-item">
            <h2 class="accordion-header" id="heading5">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#desc5">
                Детали 5
              </button>
            </h2>
            <div id="desc5" class="accordion-collapse collapse">
              <div class="accordion-body">Описание детали 4</div>
            </div>
          </div> <div class="accordion-item">
            <h2 class="accordion-header" id="heading6">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#desc6">
                Детали 6
              </button>
            </h2>
            <div id="desc6" class="accordion-collapse collapse">
              <div class="accordion-body">Описание детали 4</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <section class="related-products my-5 ">
      <h3 class="text-center mb-5">Похожие продукты</h3>
      <div class="row justify-content-center align-items-center" id="related-products"></div>
    </section>
  </main>


  <footer id="footer" class="footer-16 footer position-relative">

    <div class="container">

      <div class="footer-main" data-aos="fade-up" data-aos-delay="100">
        <div class="row align-items-start">

          <div class="col-lg-3">
            <div class="brand-section d-flex flex-row justify-content-center align-items-center g-2">
              <!-- <a href="index.html" class="logo d-flex align-items-center mb-4"> -->
                <!-- <span class="sitename">VIVASAM</span> -->
                <img src="assets/img/logo.jpg" width="100px" height="100px" alt="VIVASAM Logo" class="logo-img">
              <!-- </a> -->
              <!-- <p class="brand-description ml-5">Монолит здоровья.</p> -->

             
            </div>
          </div>

          <div class="col-lg-5">
            <div class="brand-section">
   
              <div class="contact-info ">
                <div class="contact-item">
                  <i class="bi bi-geo-alt"></i>
                  <span>г.Ташкент, Яккасаройский район, улица Бабура 73 А</span>
                </div>
                <div class="contact-item">
                  <i class="bi bi-telephone"></i>
                  <span>+1 (555) 987-6543</span>
                </div>
                <div class="contact-item">
                  <i class="bi bi-envelope"></i>
                  <span>Vivasam-group@mail.ru</span>
                </div>
              </div>
            </div>
          </div>

                    <div class="col-lg-4">
              <h5>Социальные сети</h5> 
             <div class="col-lg-6 flex-row d-flex justify-content-sm-between justify-content-around align-items-center fw-200 fs-2 p-lg-0 p-sm-4">

                <div class="contact-item">
                  <!-- Instagram -->
                  <a href="https://www.instagram.com/vivasam.group" class="twitter text-danger opacity-75" target="_blank"><i class="bi bi-instagram"></i> </a>
                </div>
                <div class="contact-item">
                  <!-- Facebook -->
                  <a href="https://www.facebook.com/profile.php?id=100088411987053" class="facebook" target="_blank"><i class="bi bi-facebook"> </i></a>
                </div>
           
                   <div class="contact-item">
                     <!-- Telegram -->
                     <a href="https://t.me/vivasamgroup" class="telegram" target="_blank"><i class="bi bi-telegram"> </i></a>
                   </div>
                    <div class="contact-item ">
                      <!-- Youtube -->
                      <a href="https://youtube.com/@vivasamgroup?si=4iqNknhEHCJZ28js" class="youtube text-danger" target="_blank"><i class="bi bi-youtube"> </i></a>
             </div>
          </div>
        </div>
      </div>

    </div>

    <div class="footer-bottom" id="footer-bottom">
      <div class="container">
        <div class="bottom-content" data-aos="fade-up" data-aos-delay="300">
          <div class="row align-items-center">

            <div class="col-lg-12 text-center">
              <div class="copyright">
                <p class="rights bootm">Все права защищены © 2022 Vivasam Group</p>
              </div>
            </div>

            <!-- <div class="col-lg-6">
              <div class="legal-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Cookie Policy</a>
                <div class="credits">

                </div>
              </div>
            </div> -->

          </div>
        </div>
      </div>
    </div>

  </footer>

  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<script>


  // Animatsiya ko‘rsatish uchun observer
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) entry.target.classList.add('visible');
    });
  }, { threshold: 0.1 });
  document.querySelectorAll('.scroll-fade').forEach(el => observer.observe(el));

  // Tilni aniqlash
  const storedLang = localStorage.getItem("selectedLanguage");
  const browserLang = (navigator.language || 'ru').slice(0, 2);
  const currentLang = ['uz', 'ru', 'en'].includes(storedLang) ? storedLang : (['uz', 'ru', 'en'].includes(browserLang) ? browserLang : 'ru');

  // Dropdownda tanlangan tilni belgilash
  document.addEventListener("DOMContentLoaded", () => {
    const langSelect = document.getElementById("language-select");
    if (langSelect) langSelect.value = currentLang;

    langSelect.addEventListener("change", (e) => {
      const newLang = e.target.value;
      localStorage.setItem("selectedLanguage", newLang);
      location.reload();
    });

    applyNavFooterTranslations(currentLang);
  });

  // Navbar va footer tarjimalari
  function applyNavFooterTranslations(lang) {
    const translations = {
      uz: {
        home: "Bosh sahifa",
        contact: "Bog'lanish",
        products: "Mahsulotlarimiz",
        partners: "Hamkorlarimiz",
        related: "O‘xshash mahsulotlar",    footer:{location: "Toshkent shahar, Yakkasaroy tumani, Bobur kochasi 73 A ",  phone: "Telefon",social: "Ijtimoiy tarmoqlar", rights: "Barcha huquqlar himoyalangan © 2022 Vivasam Group"}
      },
      ru: {
        home: "Главная",
        contact: "Контакты",
        products: "Наши продукты",
        partners: "Партнёры",
        related: "Похожие продукты",
    footer: {location: "г.Ташкент, Яккасаройский район, улица Бабура 73 А", phone: "Телефон", social: "Социальные сети", rights: "Все права защищены © 2022 Vivasam Group"}
  },
      en: {
        home: "Home",
        contact: "Contact",
        products: "Products",
        partners: "Partners",
        related: "Related products",
        footer: {location: "Tashkent city, Yakkasaroy district, Babur street 73 A", phone: "Phone", social: "Social Networks", rights: "All rights reserved © 2022 Vivasam Group"}
    }
  }
    const t = translations[lang] || translations["ru"];
    document.querySelector(".nav-home").textContent = t.home;
    document.querySelector(".nav-contact").textContent = t.contact;
    document.querySelector(".nav-products").textContent = t.products;
    document.querySelector(".nav-partners").textContent = t.partners;
    document.querySelector(".related-products h3").textContent = t.related;
    document.querySelector("#footer span").textContent = t.footer.location;
  document.querySelector("#footer h5").textContent = t.footer.social;
  document.querySelector("#footer #footer-bottom .rights").textContent = t.footer.rights;

  }

  // Mahsulotni yuklash
  const params = new URLSearchParams(window.location.search);
  const index = parseInt(params.get("index")) || 0;

  fetch('./data/products.json')
    .then(res => res.json())
    .then(products => {
      const product = products[index];

      // Asosiy ma'lumotlar
 product.images.forEach((src, i) => {
  const imgEl = document.getElementById(`product-image${i}`);
  if (imgEl) imgEl.src = src;
});

      document.getElementById("product-name").innerText = product.name[currentLang] || product.name.ru;
      document.getElementById("product-main-description").innerText = product.specialty?.[currentLang] || product.specialty?.ru || "";

      // Accordion bodylar
      for (let i = 1; i <= 6; i++) {
        const descKey = `description${i}`;
        const descText = product?.[descKey]?.[currentLang] || product?.[descKey]?.ru || "";
        const accordionEl = document.querySelector(`#desc${i} .accordion-body`);
        if (accordionEl) accordionEl.innerText = descText;
      }

      // Accordion sarlavhalar
      const titles = product?.description_titles || {};
      const titleKeys = ["first", "second", "third", "fourth", "fifth", "sixth"];
      titleKeys.forEach((key, i) => {
        const heading = document.querySelector(`#heading${i + 1} button`);
        if (heading && titles?.[key]) {
          heading.innerText = titles[key][currentLang] || titles[key].ru;
        }
      });

      // Related products
      const relatedContainer = document.getElementById("related-products");
      // products.filter((_, i) => i !== index).slice(0, 4).forEach((p, i) => {
      products.forEach((p, i) => {
  if (i !== index) {
    const swiperClass = `swiper-related-${i}`;

    relatedContainer.innerHTML += `
      <div class="col-md-4 mb-4">
        <div class="doctor-profile">
          <div class="profile-header">
            <div class="swiper ${swiperClass}">
              <div class="swiper-wrapper">
                ${p.images.map(img => `
                  <div class="swiper-slide">
                    <img src="${img}"  class="img-fluid rounded border product-image" />
                  </div>
                `).join("")}
              </div>
              <div class="swiper-pagination py-2"></div>
            </div>
          </div>
          <div class="doctor-details p-3">
            <h4>${p.name?.[currentLang] || p.name?.ru}</h4>
          </div>
          <div class="action-buttons p-3">
            <a href="product.html?index=${i}" class="text-white fs-6">
              <button class="btn btn-primary">${currentLang == "uz" ? "Batafsil" : currentLang == "en" ? "Learn More" : "Подробнее" }</button>
            </a>
          </div>
        </div>
      </div>
    `;

    // ❗ Swiper DOM ga qo‘shilgandan keyin yaratish
    setTimeout(() => {
      new Swiper(`.${swiperClass}`, {
        loop: true,
        pagination: {
          el: `.${swiperClass} .swiper-pagination`,
          clickable: true,
        },
      });
    }, 0); // DOM render bo‘lishini kutadi
  }
});

    });
</script>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<!-- Endi Swiper ishga tushirish -->
<script>
  // SWIPER INIT (endi bu ishlaydi)
  const swiper = new Swiper(".mySwiper2", {
    loop: true,
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
  });
    const swiper2 = new Swiper(".mySwiper", {
    loop: true,
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
  });
</script>

  <script src="assets/js/main.js"></script>
  <script src="assets/js/products.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>
</html>
